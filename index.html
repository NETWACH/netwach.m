<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <title>ðŸ“° NetWatch | Home</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- Background overlay -->
  <div class="overlay"></div>

  <!-- Header -->
  <header class="card header">
    <div class="brand"><img src="logo.png" alt="NetWatch logo"/> NetWatch</div>
  </header>

  <!-- Clock -->
  <div class="clock-wrapper">
    <canvas id="appleClock"></canvas>
  </div>

  <!-- Main -->
  <main class="container" id="home">
    <h1 class="title">ðŸ“° NetWatch</h1>
    <p class="subtitle">A data-driven project to track threats to health safety nets â€“ because it belongs to everyone.</p>

    <!-- iPhone Grid -->
    <div class="iphone-grid">
      <!-- Weather -->
      <div class="iphone-tile weather-tile">
        <div id="wx-icon">â›…</div>
        <div id="wx-temp">--Â°</div>
        <div id="wx-place">Locatingâ€¦</div>
      </div>

      <!-- Executive -->
      <div class="iphone-tile exec-tile">
        <img id="seal" alt="Seal of the President of the United States"
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Seal_of_the_President_of_the_United_States.svg/240px-Seal_of_the_President_of_the_United_States.svg.png"/>
        <div class="tile-label">Executive</div>
      </div>

      <!-- Programs -->
      <div class="iphone-tile">ðŸŸ¡ <div class="tile-label">Social</div></div>
      <div class="iphone-tile">ðŸ”µ <div class="tile-label">Medicaid</div></div>
      <div class="iphone-tile">ðŸŸ  <div class="tile-label">Housing</div></div>
      <div class="iphone-tile">âš« <div class="tile-label">SNAP</div></div>

      <!-- Approval Ratings -->
      <div class="iphone-tile chart-tile">
        <canvas id="approvalChart" class="weeble"></canvas>
      </div>

      <!-- Market tiles -->
      <div class="iphone-tile market-tile">
        <div class="tile-label">Cattle</div>
        <div id="market-cattle">Loadingâ€¦</div>
      </div>
      <div class="iphone-tile market-tile">
        <div class="tile-label">Hogs</div>
        <div id="market-hogs">Loadingâ€¦</div>
      </div>
      <div class="iphone-tile market-tile">
        <div class="tile-label">Corn</div>
        <div id="market-corn">Loadingâ€¦</div>
      </div>
      <div class="iphone-tile market-tile">
        <div class="tile-label">Soybeans</div>
        <div id="market-soy">Loadingâ€¦</div>
      </div>

      <!-- Directory Tiles -->
      <div class="iphone-tile" id="congressTile">
        <div class="tile-label">Congress Directory</div>
      </div>
      <div class="iphone-tile" id="agenciesTile">
        <div class="tile-label">Federal Agencies</div>
      </div>
      <div class="iphone-tile" id="registersTile">
        <div class="tile-label">Official Registers</div>
      </div>
    </div>
  </main>

  <!-- Fullscreen Panels -->
  <section class="fullscreen hidden" id="congressPanel">
    <button class="close-btn" id="closeCongress">âœ•</button>
    <h2>Members of Congress â€” Live Directory</h2>
    <div class="scroll-area">
      <table id="congressTable" aria-live="polite">
        <thead>
          <tr>
            <th>Name</th>
            <th>Chamber</th>
            <th>State/Dist.</th>
            <th>Party</th>
            <th>Term Ends</th>
            <th>Days Left</th>
            <th>Profile</th>
          </tr>
        </thead>
        <tbody><tr><td colspan="7" style="color:var(--muted)">Loadingâ€¦</td></tr></tbody>
      </table>
    </div>
  </section>

  <section class="fullscreen hidden" id="agenciesPanel">
    <button class="close-btn" id="closeAgencies">âœ•</button>
    <h3>Federal Agencies</h3>
    <div class="scroll-area">
      <a href="https://www.cms.gov/" target="_blank">CMS</a><br/>
      <a href="https://www.hud.gov/" target="_blank">HUD</a><br/>
      <a href="https://www.usda.gov/" target="_blank">USDA</a><br/>
      <a href="https://www.ssa.gov/" target="_blank">SSA</a>
    </div>
  </section>

  <section class="fullscreen hidden" id="registersPanel">
    <button class="close-btn" id="closeRegisters">âœ•</button>
    <h3>Official Registers</h3>
    <div class="scroll-area">
      <a href="https://www.federalregister.gov/" target="_blank">Federal Register</a><br/>
      <a href="https://www.congress.gov/" target="_blank">Congress</a><br/>
      <a href="https://www.govinfo.gov/" target="_blank">GovInfo</a>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-text">Â© 2025 NetWatch â€¢ Atlanta, Georgia 30303</div>
    <div class="swipe-bar"></div>
  </footer>

  <!-- Scripts -->
  <script>
    const canvas = document.getElementById("appleClock");
    const ctx = canvas.getContext("2d");
    canvas.width = 200;
    canvas.height = 200;

    function drawClock() {
      const now = new Date();
      const radius = canvas.width / 2;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.save();
      ctx.translate(radius, radius);

      ctx.beginPath();
      ctx.arc(0, 0, radius-5, 0, 2*Math.PI);
      ctx.fillStyle = "rgba(255,255,255,0.25)";
      ctx.fill();
      ctx.strokeStyle = "rgba(0,0,0,0.3)";
      ctx.lineWidth = 2;
      ctx.stroke();

      const logo = new Image();
      logo.src = "logo.png";
      const logoSize = radius * 0.8;
      ctx.globalAlpha = 0.9;
      ctx.drawImage(logo, -logoSize/2, -logoSize/2, logoSize, logoSize);
      ctx.globalAlpha = 1.0;

      ctx.font = "14px SF Pro Display, sans-serif";
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";
      ctx.fillStyle = "#000";
      for (let num = 1; num <= 12; num++) {
        const ang = num * Math.PI / 6;
        ctx.rotate(ang);
        ctx.translate(0, -radius + 25);
        ctx.rotate(-ang);
        ctx.fillText(num.toString(), 0, 0);
        ctx.rotate(ang);
        ctx.translate(0, radius - 25);
        ctx.rotate(-ang);
      }

      let sec = now.getSeconds();
      let min = now.getMinutes();
      let hr  = now.getHours();

      hr = hr % 12;
      hr = (hr * Math.PI / 6) + (min * Math.PI / (6*60));
      min = (min * Math.PI / 30) + (sec * Math.PI / (30*60));
      sec = sec * Math.PI / 30;

      ctx.beginPath();
      ctx.moveTo(0,0);
      ctx.lineTo(radius*0.5*Math.cos(hr-Math.PI/2), radius*0.5*Math.sin(hr-Math.PI/2));
      ctx.lineWidth = 4;
      ctx.stroke();

      ctx.beginPath();
      ctx.moveTo(0,0);
      ctx.lineTo(radius*0.7*Math.cos(min-Math.PI/2), radius*0.7*Math.sin(min-Math.PI/2));
      ctx.lineWidth = 3;
      ctx.stroke();

      ctx.beginPath();
      ctx.moveTo(0,0);
      ctx.lineTo(radius*0.8*Math.cos(sec-Math.PI/2), radius*0.8*Math.sin(sec-Math.PI/2));
      ctx.strokeStyle = "red";
      ctx.lineWidth = 2;
      ctx.stroke();
      ctx.strokeStyle = "#000";

      ctx.restore();
    }

    setInterval(drawClock, 1000);

    function setupFullscreen(tileId, panelId, closeId) {
      const tile = document.getElementById(tileId);
      const panel = document.getElementById(panelId);
      const close = document.getElementById(closeId);

      tile.addEventListener("click", () => {
        panel.classList.remove("hidden");
        setTimeout(() => panel.classList.add("active"), 10);
      });

      close.addEventListener("click", () => {
        panel.classList.remove("active");
        setTimeout(() => panel.classList.add("hidden"), 500);
      });
    }

    setupFullscreen("congressTile", "congressPanel", "closeCongress");
    setupFullscreen("agenciesTile", "agenciesPanel", "closeAgencies");
    setupFullscreen("registersTile", "registersPanel", "closeRegisters");
  </script>
</body>
</html>

