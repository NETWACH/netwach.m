<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>NetWatch</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Background readability layer -->
  <div class="overlay" aria-hidden="true"></div>

  <!-- Header: brand + server-style clock -->
  <header class="header">
    <div class="brand">
      <img src="logo.png" alt="NetWatch" />
      <span>NetWatch</span>
    </div>

    <!-- Server/monitor clock widget -->
    <div class="clock" aria-live="polite" aria-label="Current time and date">
      <div id="clock-time" class="clock-time">--:--:--</div>
      <div id="clock-date" class="clock-date">Loading date…</div>
      <div class="clock-led"></div>
    </div>
  </header>

  <main class="container">
    <p class="subtitle">
      A data-driven project to track threats to health safety nets — because it belongs to everyone.
    </p>

    <!-- iPhone-style grid -->
    <section class="grid" aria-label="App grid">
      <!-- App: NetWatch logo -->
      <button class="tile app" type="button">
        <img class="app-icon" src="logo.png" alt="" />
        <span class="label">NetWatch</span>
      </button>

      <!-- Weather -->
      <button class="tile weather" type="button">
        <div class="wx-emoji">⛅</div>
        <div class="wx-temp" id="wx-temp">--°</div>
        <div class="wx-place" id="wx-place">Locating…</div>
      </button>

      <!-- Executive -->
      <button class="tile exec" type="button">
        <img class="seal" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Seal_of_the_President_of_the_United_States.svg/120px-Seal_of_the_President_of_the_United_States.svg.png" alt="" />
        <span class="label">Executive</span>
      </button>

      <!-- Programs (simple SVG glyphs) -->
      <button class="tile icon" type="button" aria-label="Social">
        <svg viewBox="0 0 24 24" class="glyph"><circle cx="12" cy="12" r="7"/></svg>
        <span class="label">Social</span>
      </button>

      <button class="tile icon" type="button" aria-label="Medicaid">
        <svg viewBox="0 0 24 24" class="glyph"><rect x="10" y="4" width="4" height="16"/><rect x="4" y="10" width="16" height="4"/></svg>
        <span class="label">Medicaid</span>
      </button>

      <button class="tile icon" type="button" aria-label="Housing">
        <svg viewBox="0 0 24 24" class="glyph"><path d="M3 12L12 5l9 7v7H3z"/></svg>
        <span class="label">Housing</span>
      </button>

      <button class="tile icon" type="button" aria-label="SNAP">
        <svg viewBox="0 0 24 24" class="glyph"><path d="M4 6h16l-2 12H6L4 6zm4 14a2 2 0 100-4 2 2 0 000 4zm8 0a2 2 0 100-4 2 2 0 000 4z"/></svg>
        <span class="label">SNAP</span>
      </button>

      <!-- Markets -->
      <button class="tile info" type="button">
        <span class="label">Cattle</span>
        <div class="small" id="mk-cattle">Loading…</div>
      </button>

      <button class="tile info" type="button">
        <span class="label">Hogs</span>
        <div class="small" id="mk-hogs">Loading…</div>
      </button>

      <button class="tile info" type="button">
        <span class="label">Corn</span>
        <div class="small" id="mk-corn">Loading…</div>
      </button>

      <button class="tile info" type="button">
        <span class="label">Soybeans</span>
        <div class="small" id="mk-soy">Loading…</div>
      </button>

      <!-- Openable apps -->
      <button class="tile openable" id="open-congress" type="button" aria-controls="panel-congress" aria-expanded="false">
        <span class="label">Congress Directory</span>
      </button>

      <button class="tile openable" id="open-agencies" type="button" aria-controls="panel-agencies" aria-expanded="false">
        <span class="label">Federal Agencies</span>
      </button>

      <button class="tile openable" id="open-registers" type="button" aria-controls="panel-registers" aria-expanded="false">
        <span class="label">Official Registers</span>
      </button>
    </section>
  </main>

  <!-- Fullscreen panels (flip/open) -->
  <section class="panel" id="panel-congress" aria-hidden="true">
    <button class="panel-close" type="button" aria-label="Close">✕</button>
    <h2>Members of Congress — Live Directory</h2>
    <div class="panel-body">
      <div class="controls">
        <input type="search" placeholder="Search name, state, party" />
        <select>
          <option>All Chambers</option><option>House</option><option>Senate</option>
        </select>
      </div>

      <div class="scroller">
        <table>
          <thead>
            <tr><th>Name</th><th>Chamber</th><th>State/Dist.</th><th>Party</th><th>Term Ends</th><th>Days Left</th><th>Profile</th></tr>
          </thead>
          <tbody><tr><td colspan="7" class="muted">Loading…</td></tr></tbody>
        </table>
      </div>
    </div>
  </section>

  <section class="panel" id="panel-agencies" aria-hidden="true">
    <button class="panel-close" type="button" aria-label="Close">✕</button>
    <h2>Federal Agencies</h2>
    <div class="panel-body links">
      <a href="https://www.cms.gov/" target="_blank" rel="noopener">CMS</a>
      <a href="https://www.hud.gov/" target="_blank" rel="noopener">HUD</a>
      <a href="https://www.usda.gov/" target="_blank" rel="noopener">USDA</a>
      <a href="https://www.ssa.gov/" target="_blank" rel="noopener">SSA</a>
    </div>
  </section>

  <section class="panel" id="panel-registers" aria-hidden="true">
    <button class="panel-close" type="button" aria-label="Close">✕</button>
    <h2>Official Registers</h2>
    <div class="panel-body links">
      <a href="https://www.federalregister.gov/" target="_blank" rel="noopener">Federal Register</a>
      <a href="https://www.congress.gov/" target="_blank" rel="noopener">Congress</a>
      <a href="https://www.govinfo.gov/" target="_blank" rel="noopener">GovInfo</a>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div>© 2025 NetWatch • Atlanta, Georgia 30303</div>
    <div class="swipe-bar" aria-hidden="true"></div>
  </footer>

  <!-- JS: server clock + panel wiring -->
  <script>
    // ===== Server-style clock =====
    const timeEl = document.getElementById('clock-time');
    const dateEl = document.getElementById('clock-date');

    function pad(n){ return String(n).padStart(2,'0'); }
    function updateClock(){
      const now = new Date();
      const hh = pad(now.getHours());
      const mm = pad(now.getMinutes());
      const ss = pad(now.getSeconds());
      timeEl.textContent = `${hh}:${mm}:${ss}`;

      const days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
      const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
      const date = now.getDate();
      dateEl.textContent = `${days[now.getDay()]}, ${months[now.getMonth()]} ${date} ${now.getFullYear()}`;
    }
    updateClock(); setInterval(updateClock, 1000);

    // ===== Panels (flip open / close) =====
    function wirePanel(openBtnId, panelId){
      const btn = document.getElementById(openBtnId);
      const panel = document.getElementById(panelId);
      const close = panel.querySelector('.panel-close');

      function open(){
        btn.setAttribute('aria-expanded','true');
        panel.setAttribute('aria-hidden','false');
        document.body.classList.add('panel-open');
        requestAnimationFrame(()=> panel.classList.add('active'));
      }
      function shut(){
        btn.setAttribute('aria-expanded','false');
        panel.classList.remove('active');
        setTimeout(()=>{ panel.setAttribute('aria-hidden','true'); document.body.classList.remove('panel-open'); }, 420);
      }
      btn.addEventListener('click', open);
      close.addEventListener('click', shut);
      document.addEventListener('keydown', e => { if(e.key === 'Escape' && panel.classList.contains('active')) shut(); });
    }
    wirePanel('open-congress', 'panel-congress');
    wirePanel('open-agencies', 'panel-agencies');
    wirePanel('open-registers', 'panel-registers');
  </script>
</body>
</html>
